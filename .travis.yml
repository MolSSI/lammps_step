language: python
dist: xenial
python:
- 3.7
- 3.6
- 3.5
deploy:
  provider: pypi
  distributions: sdist bdist_wheel
  on:
    python: 3.6
    repo: molssi-seamm/lammps_step
    tags: true
  user: seamm
  password:
    secure: jMeh/MAX8Mi8A9hrJDVPCpSD4PRplt2IB5cL9cCtMlt0dSFiGqNIX4wVuyA06My4XoPVDQq7sShUZFm5EOIEiFfXgrhMcN2TcwDmmYwUSq0BNBeG/lp3J6Ul6ISghznYThdF2QuMrgacDlMmMnmwuMYI1XVc8bHTeRAE/4xgoBVh2rZn34wUE9jxRk/3kSUKQWtZc4zNuXIFHGsbYPqwDuH0UG04iEFCMStjC2VfqUIH3dLqpqygSvfu8D0wluZjmss0bfqyX0NIJmjmxhqOeGgffMxNr1elW9H1bKpUzuVteakR7iR3x6E4uC8MgpVU8zGKBz/aMY3n+bEuw7tZrFGcsSNfkLMsRwOB9IV4KWq2FMyipLQ0uX7Iewp7FGManx9FeANUWbKm9B4Q8fF7uPXZYiPldg/3BvGJWB2CFR5o9hHNJBwR0RcwITs+mdmk6Su7VpV1qvKOV48Kf8Cu4Bi6FXO3pAh8jrPYGzYgErawjLfMbKTSw6xThsaBsn1xlsmHFNqc0KG123+ler1PMEBrzdx0KV/2NxocJfZV/6Q8srhCkYfPEnMWklQj3H6RMw1u0/uvr/IMXy7kJXKhuQbMjgM+Lg3aORjqLhw+clRcOjhuSxe0ZetV+P2StuSTB1Hd72sOZvDryhEK9H3i9npcOciWqtOmlsRRehAiBFo=
matrix:
  fast_finish: true
stages:
- lint
- check
- test
install:
- pip install -U tox-travis
- pip install -U codecov
jobs:
  include:
  - stage: lint
    script: tox -e lint
    python: '3.6'
script: tox -e coverage
after_success:
- codecov -e TOX_ENV
